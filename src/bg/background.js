(function(){var e,t,n,r,o,a;a=a||[],a.push(["_setAccount","UA-48965633-1"]),a.push(["_trackPageview"]),function(){var e,t;return e=document.createElement("script"),e.type="text/javascript",e.async=!0,e.src="https://ssl.google-analytics.com/ga.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)}(),o=function(){return a.push(["_trackEvent","Domflag","clicked"])},r=function(e,t){return chrome.tabs.sendMessage(t,e,function(){})},n=[],chrome.runtime.onConnect.addListener(function(e){return"devtools"!==e.name?!1:(chrome.tabs.query({currentWindow:!0,active:!0},function(t){var a,c,s;return c=t[0].id,n[c]={port:e,portId:e.portId_,tab:c},s=n[c].port,chrome.storage.sync.get({autoInspectOpen:!0},function(t){return t.autoInspectOpen?e.postMessage({name:"devtoolsOpened",key:0}):void 0}),a=function(t,n){n.tab.id===c&&"panelClick"===t.name&&(e.postMessage({name:t.name,key:t.key}),o())},chrome.runtime.onMessage.addListener(a),e.onDisconnect.addListener(function(){return chrome.runtime.onMessage.removeListener(a),r("remove",c,s),delete n[c]})}),e.onMessage.addListener(function(){return chrome.tabs.query({currentWindow:!0,active:!0},function(e){var t,o;return t=e[0].id,o=n[t].port,r("create",t,o)})}))}),t=function(e,t){var o;if(null!=n[e])return o=n[e].port,"complete"===t.status?(r("create",e,o),chrome.storage.sync.get({autoInspectReload:!0},function(e){return e.autoInspectReload?o.postMessage({name:"pageReloaded",key:0}):void 0})):void 0},e=function(e){return chrome.tabs.query({currentWindow:!0,active:!0},function(t){var r,o;return r=t[0].id,null!=n[r]?(o=n[r].port,o.postMessage("toggle_domflag"===e?{name:"getInspectedEl"}:{name:"keyboardShortcut",key:e})):void 0})},chrome.tabs.onUpdated.addListener(t),chrome.commands.onCommand.addListener(e)}).call(this);